2023-02-12 07:43:29.712 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 07:43:29.970 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 07:43:30.065 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 07:48:10.733 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 07:48:10.776 -07:00 [DBG] Hosting starting
2023-02-12 07:48:10.783 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 07:48:10.786 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 07:48:10.797 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 07:48:10.803 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 07:48:10.804 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 07:48:10.805 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 07:48:10.805 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 07:48:10.807 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 07:48:10.807 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 07:48:10.808 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 07:48:10.808 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 07:48:10.826 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 07:48:10.826 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 07:48:10.826 -07:00 [INF] Hosting environment: Development
2023-02-12 07:48:10.826 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 07:48:10.826 -07:00 [DBG] Hosting started
2023-02-12 07:48:10.840 -07:00 [INF] Request starting HTTP/2 GET https://localhost:44361/swagger/index.html - -
2023-02-12 07:48:10.841 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 07:48:10.853 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 07:48:10.853 -07:00 [DBG] Request did not match any endpoints
2023-02-12 07:48:10.939 -07:00 [DBG] Connection ID "18230571348235649027" disconnecting.
2023-02-12 07:48:10.940 -07:00 [INF] Request finished HTTP/2 GET https://localhost:44361/swagger/index.html - - - 200 - text/html;charset=utf-8 101.5479ms
2023-02-12 07:48:11.056 -07:00 [INF] Request starting HTTP/2 GET https://localhost:44361/swagger/v1/swagger.json - -
2023-02-12 07:48:11.056 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 07:48:11.056 -07:00 [DBG] Request did not match any endpoints
2023-02-12 07:48:11.134 -07:00 [DBG] Connection ID "18086456112915152958" disconnecting.
2023-02-12 07:48:11.134 -07:00 [INF] Request finished HTTP/2 GET https://localhost:44361/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 78.5223ms
2023-02-12 07:48:46.671 -07:00 [INF] Application is shutting down...
2023-02-12 07:48:46.672 -07:00 [DBG] Hosting stopping
2023-02-12 07:48:46.673 -07:00 [DBG] Hosting stopped
2023-02-12 08:17:26.540 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:17:26.580 -07:00 [DBG] Hosting starting
2023-02-12 08:17:26.587 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:17:26.589 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:17:26.595 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:17:26.601 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:17:26.602 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:17:26.603 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:17:26.603 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:17:26.605 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:17:26.605 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:17:26.606 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:17:26.607 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:17:26.635 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:17:26.635 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:17:26.635 -07:00 [INF] Hosting environment: Development
2023-02-12 08:17:26.635 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:17:26.635 -07:00 [DBG] Hosting started
2023-02-12 08:17:26.653 -07:00 [INF] Request starting HTTP/2 GET https://localhost:44361/swagger/index.html - -
2023-02-12 08:17:26.654 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:17:26.672 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:17:26.672 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:17:26.771 -07:00 [DBG] Connection ID "18230571339645714481" disconnecting.
2023-02-12 08:17:26.772 -07:00 [INF] Request finished HTTP/2 GET https://localhost:44361/swagger/index.html - - - 200 - text/html;charset=utf-8 120.8580ms
2023-02-12 08:17:26.887 -07:00 [INF] Request starting HTTP/2 GET https://localhost:44361/swagger/v1/swagger.json - -
2023-02-12 08:17:26.887 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:17:26.887 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:17:26.962 -07:00 [DBG] Connection ID "18374686540606472222" disconnecting.
2023-02-12 08:17:26.962 -07:00 [INF] Request finished HTTP/2 GET https://localhost:44361/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 75.2852ms
2023-02-12 08:18:17.321 -07:00 [INF] Request starting HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 141
2023-02-12 08:18:17.324 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:18:17.325 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:18:17.326 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:18:17.327 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:18:17.547 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:18:17.548 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:18:17.563 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthSrv.Models.DTO.NewUserRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:18:17.563 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:18:17.563 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:18:17.563 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:18:17.563 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:18:17.564 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:18:17.565 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:18:17.712 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:18:17.735 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:18:17.737 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:18:17.739 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' using the name '' in request data ...
2023-02-12 08:18:17.739 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:18:17.739 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:18:17.808 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:18:17.808 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:18:17.808 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:18:17.813 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:18:17.818 -07:00 [INF] Executing action method AuthSrv.Controllers.AuthController.Register (AuthSrv) - Validation state: "Valid"
2023-02-12 08:18:18.128 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:18:18.129 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:18:18.386 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:18:18.520 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-02-12 08:18:18.655 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:18:18.688 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:18:18.690 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:18:18.714 -07:00 [DBG] Created DbConnection. (21ms).
2023-02-12 08:18:18.724 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2023-02-12 08:18:18.734 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (47ms).
2023-02-12 08:18:18.738 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:18:19.625 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:18:19.634 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:18:19.700 -07:00 [ERR] Failed executing DbCommand (68ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:18:19.704 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:18:19.713 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (6ms).
2023-02-12 08:18:19.717 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetUsers'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e0175a0c-dc63-4818-ae05-4c7f98c4bd0c
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetUsers'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e0175a0c-dc63-4818-ae05-4c7f98c4bd0c
Error Number:208,State:1,Class:16
2023-02-12 08:18:19.728 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Register (AuthSrv) in 2161.1345ms
2023-02-12 08:18:19.729 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:18:19.732 -07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetUsers'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at AuthSrv.Controllers.AuthController.Register(NewUserRequestDTO request) in C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv\Controllers\AuthController.cs:line 75
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e0175a0c-dc63-4818-ae05-4c7f98c4bd0c
Error Number:208,State:1,Class:16
2023-02-12 08:18:19.751 -07:00 [DBG] Connection ID "18230571339645714483" disconnecting.
2023-02-12 08:18:19.753 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:18:19.757 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:18:19.758 -07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-02-12 08:18:19.759 -07:00 [INF] Request finished HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 141 - 500 - text/plain;+charset=utf-8 2439.0781ms
2023-02-12 08:18:58.796 -07:00 [INF] Application is shutting down...
2023-02-12 08:18:58.797 -07:00 [DBG] Hosting stopping
2023-02-12 08:18:58.798 -07:00 [DBG] Hosting stopped
2023-02-12 08:23:04.792 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:23:04.997 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:23:04.998 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:23:05.157 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:23:05.170 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:23:05.170 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:23:05.294 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:31:05.103 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:31:05.310 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:31:05.310 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:31:05.468 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:31:05.481 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:31:05.481 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:31:05.606 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:32:22.600 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:32:22.803 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:32:22.804 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:32:22.961 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:32:22.971 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:32:22.989 -07:00 [DBG] Created DbConnection. (16ms).
2023-02-12 08:32:22.991 -07:00 [DBG] Migrating using database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:22.994 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.105 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.108 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:32:23.111 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-02-12 08:32:23.112 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2023-02-12 08:32:23.116 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:32:23.128 -07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:32:23.129 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.133 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (2ms).
2023-02-12 08:32:23.135 -07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-12 08:32:23.135 -07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:32:23.135 -07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:32:23.135 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.135 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.136 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:32:23.142 -07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:32:23.142 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.143 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:32:23.143 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.143 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.143 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:32:23.143 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.143 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.143 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:32:23.143 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:32:23.143 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.143 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:32:23.181 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:32:23.181 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.181 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.181 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.181 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.181 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 08:32:23.183 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 08:32:23.183 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.183 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:32:23.183 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.184 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.184 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:32:23.184 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.184 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.184 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:32:23.184 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:32:23.184 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.184 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:32:23.184 -07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-12 08:32:23.184 -07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:32:23.184 -07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:32:23.184 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.184 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.184 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:32:23.185 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:32:23.185 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.185 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:32:23.186 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:32:23.186 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:32:23.186 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:32:23.186 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.186 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.186 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 08:32:23.187 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 08:32:23.188 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.188 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:32:23.189 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.189 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:32:23.194 -07:00 [INF] Applying migration '20230212153105_Initial'.
2023-02-12 08:32:23.239 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.239 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.239 -07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-02-12 08:32:23.242 -07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-02-12 08:32:23.243 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:32:23.243 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.243 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.243 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-02-12 08:32:23.244 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-02-12 08:32:23.244 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:32:23.244 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.244 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:32:23.244 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Name], [NormalizedName])
VALUES (N'Admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-02-12 08:32:23.254 -07:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Name], [NormalizedName])
VALUES (N'Admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-02-12 08:32:23.256 -07:00 [DBG] Disposing transaction.
2023-02-12 08:32:23.256 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.256 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:32:23.257 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:32:23.258 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:32:23.258 -07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-12 08:33:03.581 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:33:03.785 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:33:03.786 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:33:03.942 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:33:03.951 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:33:03.970 -07:00 [DBG] Created DbConnection. (17ms).
2023-02-12 08:33:03.972 -07:00 [DBG] Migrating using database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:03.974 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.092 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.095 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.098 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-02-12 08:33:04.099 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2023-02-12 08:33:04.102 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:33:04.114 -07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:33:04.115 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.120 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (2ms).
2023-02-12 08:33:04.121 -07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-12 08:33:04.121 -07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:33:04.121 -07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:33:04.121 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.122 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.122 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:33:04.129 -07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:33:04.129 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.129 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:33:04.129 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.130 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.130 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.130 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.130 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.130 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:33:04.130 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-12 08:33:04.130 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.130 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:33:04.130 -07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-12 08:33:04.130 -07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:33:04.130 -07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-02-12 08:33:04.130 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.130 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.130 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:33:04.131 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 08:33:04.131 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.131 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:33:04.137 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:33:04.137 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:33:04.137 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:33:04.137 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.137 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.138 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 08:33:04.138 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 08:33:04.139 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.140 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:33:04.140 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.140 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:33:04.145 -07:00 [INF] Applying migration '20230212153105_Initial'.
2023-02-12 08:33:04.189 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.189 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.190 -07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-02-12 08:33:04.192 -07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-02-12 08:33:04.193 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.193 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.194 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.194 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-02-12 08:33:04.196 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-02-12 08:33:04.196 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.196 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.196 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.196 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-02-12 08:33:04.197 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-02-12 08:33:04.197 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.197 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.197 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.197 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.198 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.198 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.198 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.198 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.198 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.199 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.199 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.199 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.199 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.199 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(128) NOT NULL,
    [ProviderKey] nvarchar(128) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.200 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(128) NOT NULL,
    [ProviderKey] nvarchar(128) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.200 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.200 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.200 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.200 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.201 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.201 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.201 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.201 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.201 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(128) NOT NULL,
    [Name] nvarchar(128) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.202 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(128) NOT NULL,
    [Name] nvarchar(128) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-12 08:33:04.202 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.202 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.202 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.202 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-02-12 08:33:04.203 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-02-12 08:33:04.203 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.203 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.203 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.203 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-02-12 08:33:04.203 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-02-12 08:33:04.203 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.203 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.203 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.203 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-02-12 08:33:04.204 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-02-12 08:33:04.204 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.204 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.204 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.204 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-02-12 08:33:04.204 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-02-12 08:33:04.204 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.204 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.204 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.204 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-02-12 08:33:04.204 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-02-12 08:33:04.204 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.204 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.204 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.204 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-02-12 08:33:04.205 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-02-12 08:33:04.205 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.205 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.205 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.205 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-02-12 08:33:04.205 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-02-12 08:33:04.205 -07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-12 08:33:04.205 -07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.205 -07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-12 08:33:04.205 -07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212153105_Initial', N'7.0.2');
2023-02-12 08:33:04.206 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212153105_Initial', N'7.0.2');
2023-02-12 08:33:04.207 -07:00 [DBG] Committing transaction.
2023-02-12 08:33:04.208 -07:00 [DBG] Committed transaction.
2023-02-12 08:33:04.209 -07:00 [DBG] Disposing transaction.
2023-02-12 08:33:04.209 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.209 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:33:04.210 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:33:04.211 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:33:04.211 -07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-12 08:36:51.614 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:36:51.656 -07:00 [DBG] Hosting starting
2023-02-12 08:36:51.663 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:36:51.667 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:36:51.674 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:36:51.681 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:36:51.682 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:36:51.682 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:36:51.683 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:36:51.685 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:36:51.685 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:36:51.686 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:36:51.686 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:36:51.705 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:36:51.705 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:36:51.705 -07:00 [INF] Hosting environment: Development
2023-02-12 08:36:51.705 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:36:51.706 -07:00 [DBG] Hosting started
2023-02-12 08:36:51.718 -07:00 [INF] Request starting HTTP/2 GET https://localhost:44361/swagger/index.html - -
2023-02-12 08:36:51.720 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:36:51.733 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:36:51.733 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:36:51.813 -07:00 [DBG] Connection ID "18230571339645714485" disconnecting.
2023-02-12 08:36:51.814 -07:00 [INF] Request finished HTTP/2 GET https://localhost:44361/swagger/index.html - - - 200 - text/html;charset=utf-8 97.0748ms
2023-02-12 08:36:51.910 -07:00 [INF] Request starting HTTP/2 GET https://localhost:44361/swagger/v1/swagger.json - -
2023-02-12 08:36:51.910 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:36:51.910 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:36:51.985 -07:00 [INF] Request finished HTTP/2 GET https://localhost:44361/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 75.3062ms
2023-02-12 08:36:51.986 -07:00 [DBG] Connection ID "18086456112915152962" disconnecting.
2023-02-12 08:37:41.772 -07:00 [INF] Request starting HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 102
2023-02-12 08:37:41.775 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:37:41.777 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:37:41.777 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:37:41.778 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:37:41.795 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:37:41.797 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:37:41.811 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthSrv.Models.DTO.NewUserRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:37:41.811 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:37:41.811 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:37:41.811 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:37:41.812 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:37:41.812 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:37:41.813 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:37:41.889 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:37:42.217 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:37:42.218 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:37:42.469 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:37:42.523 -07:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-02-12 08:37:42.649 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:37:42.683 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:37:42.684 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:37:42.708 -07:00 [DBG] Created DbConnection. (20ms).
2023-02-12 08:37:42.718 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2023-02-12 08:37:42.727 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (45ms).
2023-02-12 08:37:42.731 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:37:42.901 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:37:42.902 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:37:42.905 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:37:42.906 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' using the name '' in request data ...
2023-02-12 08:37:42.907 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:37:42.907 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:37:42.976 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:37:42.976 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:37:42.976 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:37:42.982 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:37:42.985 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:37:42.990 -07:00 [INF] Executing action method AuthSrv.Controllers.AuthController.Register (AuthSrv) - Validation state: "Valid"
2023-02-12 08:37:42.991 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:37:42.993 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-02-12 08:37:42.998 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:37:42.998 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:37:43.002 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Register (AuthSrv) in 1188.0737ms
2023-02-12 08:37:43.003 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:37:43.003 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at AuthSrv.Controllers.AuthController.Register(NewUserRequestDTO request) in C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv\Controllers\AuthController.cs:line 87
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-02-12 08:37:43.014 -07:00 [DBG] Connection ID "18086456104325218363" disconnecting.
2023-02-12 08:37:43.017 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:37:43.028 -07:00 [ERR] Failed executing DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:37:43.028 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:37:43.032 -07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-02-12 08:37:43.033 -07:00 [INF] Request finished HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 102 - 500 - text/plain;+charset=utf-8 1261.1483ms
2023-02-12 08:37:43.034 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:38:12.303 -07:00 [INF] Request starting HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 102
2023-02-12 08:38:12.304 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:38:12.304 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:38:12.304 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:38:12.304 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:38:12.305 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:38:12.305 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:38:12.305 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthSrv.Models.DTO.NewUserRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:38:12.305 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:38:12.305 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:38:12.305 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:38:12.305 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:38:12.305 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:38:12.305 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:38:12.342 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:38:12.343 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:38:12.343 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:38:12.344 -07:00 [DBG] Created DbConnection. (0ms).
2023-02-12 08:38:12.344 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:38:12.344 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:38:12.344 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:38:12.345 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:38:12.345 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:38:12.345 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:38:12.345 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' using the name '' in request data ...
2023-02-12 08:38:12.345 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:38:12.345 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:38:12.346 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:38:12.346 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:38:12.346 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:38:12.346 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:38:12.346 -07:00 [INF] Executing action method AuthSrv.Controllers.AuthController.Register (AuthSrv) - Validation state: "Valid"
2023-02-12 08:38:12.347 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:38:12.347 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Register (AuthSrv) in 41.7997ms
2023-02-12 08:38:12.347 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:38:12.347 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at AuthSrv.Controllers.AuthController.Register(NewUserRequestDTO request) in C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv\Controllers\AuthController.cs:line 87
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-02-12 08:38:12.349 -07:00 [DBG] Connection ID "18014398536057094215" disconnecting.
2023-02-12 08:38:12.349 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:38:12.350 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:38:12.350 -07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-12 08:38:12.350 -07:00 [INF] Request finished HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 102 - 500 - text/plain;+charset=utf-8 46.9677ms
2023-02-12 08:38:12.350 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:38:12.350 -07:00 [DBG] Created DbConnection. (0ms).
2023-02-12 08:38:12.350 -07:00 [ERR] An error occurred using the connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:38:12.353 -07:00 [DBG] A query was canceled for context type 'AuthSrv.Data.AuthDbContext'.
2023-02-12 08:40:04.871 -07:00 [INF] Request starting HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 102
2023-02-12 08:40:04.871 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:40:04.871 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:40:04.871 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:40:04.871 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:40:04.872 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:40:04.872 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:40:04.873 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthSrv.Models.DTO.NewUserRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:40:04.873 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:40:04.873 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:40:04.873 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:40:04.873 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:40:04.873 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:40:04.873 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:40:04.886 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:40:04.887 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:40:04.887 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:40:04.887 -07:00 [DBG] Created DbConnection. (0ms).
2023-02-12 08:40:04.887 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:40:04.887 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:40:04.887 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:40:04.888 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:40:04.888 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:40:04.889 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:40:04.889 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:40:04.889 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:40:04.889 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' using the name '' in request data ...
2023-02-12 08:40:04.889 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:40:04.889 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:40:04.889 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:40:04.889 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:40:04.889 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:40:04.889 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:40:04.889 -07:00 [INF] Executing action method AuthSrv.Controllers.AuthController.Register (AuthSrv) - Validation state: "Valid"
2023-02-12 08:40:04.890 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:40:04.890 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Register (AuthSrv) in 17.1356ms
2023-02-12 08:40:04.890 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:40:04.890 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at AuthSrv.Controllers.AuthController.Register(NewUserRequestDTO request) in C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv\Controllers\AuthController.cs:line 87
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-02-12 08:40:04.891 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:40:04.891 -07:00 [DBG] Connection ID "18230571356825583645" disconnecting.
2023-02-12 08:40:04.892 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:40:04.892 -07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-12 08:40:04.892 -07:00 [INF] Request finished HTTP/2 POST https://localhost:44361/api/auth/register application/json-patch+json 102 - 500 - text/plain;+charset=utf-8 21.0286ms
2023-02-12 08:40:04.893 -07:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:40:04.893 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:40:04.893 -07:00 [DBG] Created DbConnection. (0ms).
2023-02-12 08:40:04.893 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AuthSrv.Data.AuthDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-02-12 08:40:10.073 -07:00 [INF] Application is shutting down...
2023-02-12 08:40:10.074 -07:00 [DBG] Hosting stopping
2023-02-12 08:40:10.075 -07:00 [DBG] Hosting stopped
2023-02-12 08:40:34.222 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:40:34.265 -07:00 [DBG] Hosting starting
2023-02-12 08:40:34.272 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:40:34.275 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:40:34.280 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:40:34.286 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:40:34.287 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:40:34.288 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:40:34.288 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:40:34.290 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:40:34.290 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:40:34.291 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:40:34.291 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:40:34.320 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:40:34.320 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:40:34.320 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:40:34.320 -07:00 [INF] Hosting environment: Development
2023-02-12 08:40:34.320 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:40:34.320 -07:00 [DBG] Hosting started
2023-02-12 08:40:34.535 -07:00 [DBG] Connection id "0HMOD1TTISDN0" received FIN.
2023-02-12 08:40:34.538 -07:00 [DBG] Connection id "0HMOD1TTISDN0" accepted.
2023-02-12 08:40:34.539 -07:00 [DBG] Connection id "0HMOD1TTISDN0" started.
2023-02-12 08:40:34.546 -07:00 [DBG] Connection id "0HMOD1TTISDN0" sending FIN because: "The client closed the connection."
2023-02-12 08:40:34.547 -07:00 [DBG] Connection id "0HMOD1TTISDN0" disconnecting.
2023-02-12 08:40:34.549 -07:00 [DBG] Connection id "0HMOD1TTISDN0" stopped.
2023-02-12 08:40:34.605 -07:00 [DBG] Connection id "0HMOD1TTISDN1" accepted.
2023-02-12 08:40:34.605 -07:00 [DBG] Connection id "0HMOD1TTISDN1" started.
2023-02-12 08:40:34.605 -07:00 [DBG] Connection id "0HMOD1TTISDN2" accepted.
2023-02-12 08:40:34.605 -07:00 [DBG] Connection id "0HMOD1TTISDN2" started.
2023-02-12 08:40:34.625 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger - -
2023-02-12 08:40:34.626 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:40:34.641 -07:00 [DBG] No candidates found for the request path '/swagger'
2023-02-12 08:40:34.642 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:34.658 -07:00 [DBG] Connection id "0HMOD1TTISDN1" completed keep alive response.
2023-02-12 08:40:34.659 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger - - - 301 0 - 35.6450ms
2023-02-12 08:40:34.662 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:40:34.662 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:40:34.662 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:34.722 -07:00 [DBG] Connection id "0HMOD1TTISDN1" completed keep alive response.
2023-02-12 08:40:34.722 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 60.3762ms
2023-02-12 08:40:34.732 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/swagger-ui.css - -
2023-02-12 08:40:34.732 -07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-02-12 08:40:34.732 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:34.732 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/swagger-ui-bundle.js - -
2023-02-12 08:40:34.732 -07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-02-12 08:40:34.732 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:34.732 -07:00 [DBG] Connection id "0HMOD1TTISDN3" accepted.
2023-02-12 08:40:34.732 -07:00 [DBG] Connection id "0HMOD1TTISDN3" started.
2023-02-12 08:40:34.732 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/swagger-ui-standalone-preset.js - -
2023-02-12 08:40:34.732 -07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-02-12 08:40:34.732 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:34.744 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-12 08:40:34.744 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-12 08:40:34.744 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-12 08:40:34.746 -07:00 [DBG] Connection id "0HMOD1TTISDN2" completed keep alive response.
2023-02-12 08:40:34.746 -07:00 [DBG] Connection id "0HMOD1TTISDN3" completed keep alive response.
2023-02-12 08:40:34.746 -07:00 [DBG] Connection id "0HMOD1TTISDN1" completed keep alive response.
2023-02-12 08:40:34.746 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/swagger-ui-bundle.js - - - 200 1096145 text/javascript 13.6540ms
2023-02-12 08:40:34.746 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/swagger-ui-standalone-preset.js - - - 200 339486 text/javascript 13.3490ms
2023-02-12 08:40:34.746 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/swagger-ui.css - - - 200 143943 text/css 13.8934ms
2023-02-12 08:40:34.892 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2023-02-12 08:40:34.892 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:40:34.892 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:34.917 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/favicon-32x32.png - -
2023-02-12 08:40:34.917 -07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-02-12 08:40:34.917 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:34.918 -07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-02-12 08:40:34.918 -07:00 [DBG] Connection id "0HMOD1TTISDN3" completed keep alive response.
2023-02-12 08:40:34.918 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/favicon-32x32.png - - - 200 628 image/png 0.4887ms
2023-02-12 08:40:34.967 -07:00 [DBG] Connection id "0HMOD1TTISDN2" completed keep alive response.
2023-02-12 08:40:34.967 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 75.2246ms
2023-02-12 08:40:39.936 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/favicon-32x32.png - -
2023-02-12 08:40:39.936 -07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-02-12 08:40:39.937 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:40:39.937 -07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-02-12 08:40:39.937 -07:00 [DBG] Connection id "0HMOD1TTISDN2" completed keep alive response.
2023-02-12 08:40:39.937 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/favicon-32x32.png - - - 200 628 image/png 0.4810ms
2023-02-12 08:41:09.932 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 102
2023-02-12 08:41:09.936 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:41:09.938 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:41:09.938 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:41:09.938 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:41:09.939 -07:00 [WRN] Failed to determine the https port for redirect.
2023-02-12 08:41:09.956 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:41:09.957 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:41:09.971 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthSrv.Models.DTO.NewUserRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:41:09.972 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:41:09.972 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:41:09.972 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:41:09.972 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:41:09.972 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:41:09.973 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:41:10.050 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:41:10.071 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:41:10.073 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:41:10.075 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' using the name '' in request data ...
2023-02-12 08:41:10.075 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:41:10.075 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:41:10.079 -07:00 [DBG] Connection id "0HMOD1TTISDN2", Request id "0HMOD1TTISDN2:00000004": started reading request body.
2023-02-12 08:41:10.079 -07:00 [DBG] Connection id "0HMOD1TTISDN2", Request id "0HMOD1TTISDN2:00000004": done reading request body.
2023-02-12 08:41:10.144 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:41:10.144 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:41:10.144 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:41:10.149 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:41:10.459 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:41:10.459 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:41:10.710 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:41:10.763 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-02-12 08:41:10.898 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:41:10.930 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:41:10.932 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:41:10.951 -07:00 [DBG] Created DbConnection. (16ms).
2023-02-12 08:41:10.958 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-02-12 08:41:10.966 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2023-02-12 08:41:10.969 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.117 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.127 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:41:11.165 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:41:11.177 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.184 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2023-02-12 08:41:11.187 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.193 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (5ms).
2023-02-12 08:41:11.195 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-02-12 08:41:11.199 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:41:11.199 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:41:11.199 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:41:11.199 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:41:11.199 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.200 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.200 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-02-12 08:41:11.203 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-02-12 08:41:11.203 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.203 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:41:11.203 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.203 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:41:11.260 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:41:11.260 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:41:11.260 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:41:11.260 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.260 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.260 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:41:11.260 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:41:11.260 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.260 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:41:11.260 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.260 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:41:11.328 -07:00 [DBG] Context 'AuthDbContext' started tracking 'ZOrgUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:41:11.331 -07:00 [DBG] SaveChanges starting for 'AuthDbContext'.
2023-02-12 08:41:11.334 -07:00 [DBG] DetectChanges starting for 'AuthDbContext'.
2023-02-12 08:41:11.346 -07:00 [DBG] DetectChanges completed for 'AuthDbContext'.
2023-02-12 08:41:11.395 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.395 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.397 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:41:11.397 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:41:11.398 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:41:11.398 -07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-12 08:41:11.400 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-12 08:41:11.402 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.402 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-02-12 08:41:11.403 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.403 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:41:11.410 -07:00 [DBG] An entity of type 'ZOrgUser' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:41:11.412 -07:00 [DBG] SaveChanges completed for 'AuthDbContext' with 1 entities written to the database.
2023-02-12 08:41:11.417 -07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-02-12 08:41:11.418 -07:00 [DBG] No information found on request to perform content negotiation.
2023-02-12 08:41:11.419 -07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-12 08:41:11.419 -07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-12 08:41:11.419 -07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-12 08:41:11.419 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[AuthSrv.Models.ZOrgUser, AuthSrv, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 08:41:11.466 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Register (AuthSrv) in 1491.0542ms
2023-02-12 08:41:11.467 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:41:11.468 -07:00 [DBG] Connection id "0HMOD1TTISDN2" completed keep alive response.
2023-02-12 08:41:11.471 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:41:11.474 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:41:11.475 -07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-02-12 08:41:11.476 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 102 - 200 530 application/json;+charset=utf-8 1543.3025ms
2023-02-12 08:41:34.650 -07:00 [INF] Application is shutting down...
2023-02-12 08:41:34.651 -07:00 [DBG] Hosting stopping
2023-02-12 08:41:34.656 -07:00 [DBG] Connection id "0HMOD1TTISDN1" disconnecting.
2023-02-12 08:41:34.656 -07:00 [DBG] Connection id "0HMOD1TTISDN2" disconnecting.
2023-02-12 08:41:34.656 -07:00 [DBG] Connection id "0HMOD1TTISDN3" disconnecting.
2023-02-12 08:41:34.657 -07:00 [DBG] Connection id "0HMOD1TTISDN3" stopped.
2023-02-12 08:41:34.657 -07:00 [DBG] Connection id "0HMOD1TTISDN1" stopped.
2023-02-12 08:41:34.657 -07:00 [DBG] Connection id "0HMOD1TTISDN2" stopped.
2023-02-12 08:41:34.657 -07:00 [DBG] Connection id "0HMOD1TTISDN3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:41:34.657 -07:00 [DBG] Connection id "0HMOD1TTISDN1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:41:34.657 -07:00 [DBG] Connection id "0HMOD1TTISDN2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:41:34.660 -07:00 [DBG] Hosting stopped
2023-02-12 08:43:45.067 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:43:45.109 -07:00 [DBG] Hosting starting
2023-02-12 08:43:45.116 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:43:45.119 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:43:45.124 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:43:45.131 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:43:45.132 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:43:45.133 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:43:45.134 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:43:45.135 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:43:45.136 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:43:45.136 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:43:45.137 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:43:45.164 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:43:45.164 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:43:45.164 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:43:45.164 -07:00 [INF] Hosting environment: Development
2023-02-12 08:43:45.164 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:43:45.164 -07:00 [DBG] Hosting started
2023-02-12 08:43:45.383 -07:00 [DBG] Connection id "0HMOD1VMEUJS1" received FIN.
2023-02-12 08:43:45.386 -07:00 [DBG] Connection id "0HMOD1VMEUJS1" accepted.
2023-02-12 08:43:45.387 -07:00 [DBG] Connection id "0HMOD1VMEUJS1" started.
2023-02-12 08:43:45.392 -07:00 [DBG] Connection id "0HMOD1VMEUJS1" sending FIN because: "The client closed the connection."
2023-02-12 08:43:45.393 -07:00 [DBG] Connection id "0HMOD1VMEUJS1" disconnecting.
2023-02-12 08:43:45.395 -07:00 [DBG] Connection id "0HMOD1VMEUJS1" stopped.
2023-02-12 08:43:45.451 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" accepted.
2023-02-12 08:43:45.451 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" started.
2023-02-12 08:43:45.451 -07:00 [DBG] Connection id "0HMOD1VMEUJS3" accepted.
2023-02-12 08:43:45.451 -07:00 [DBG] Connection id "0HMOD1VMEUJS3" started.
2023-02-12 08:43:45.469 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:43:45.470 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:43:45.486 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:43:45.487 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:43:45.558 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" completed keep alive response.
2023-02-12 08:43:45.559 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 90.8605ms
2023-02-12 08:43:45.737 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2023-02-12 08:43:45.737 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:43:45.737 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:43:45.814 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" completed keep alive response.
2023-02-12 08:43:45.814 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 77.2829ms
2023-02-12 08:44:23.024 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 141
2023-02-12 08:44:23.027 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:44:23.029 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:44:23.029 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:44:23.030 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:44:23.031 -07:00 [WRN] Failed to determine the https port for redirect.
2023-02-12 08:44:23.048 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:44:23.049 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:44:23.063 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthSrv.Models.DTO.NewUserRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:44:23.064 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:44:23.064 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:44:23.064 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:44:23.064 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:44:23.064 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:44:23.065 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:44:23.142 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:44:23.163 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:44:23.165 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:44:23.167 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' using the name '' in request data ...
2023-02-12 08:44:23.167 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:44:23.167 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:44:23.171 -07:00 [DBG] Connection id "0HMOD1VMEUJS2", Request id "0HMOD1VMEUJS2:00000003": started reading request body.
2023-02-12 08:44:23.171 -07:00 [DBG] Connection id "0HMOD1VMEUJS2", Request id "0HMOD1VMEUJS2:00000003": done reading request body.
2023-02-12 08:44:23.234 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:44:23.234 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:44:23.234 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:44:23.240 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:44:23.546 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:44:23.546 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:44:23.800 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:44:23.860 -07:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-02-12 08:44:23.991 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:44:24.028 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.029 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:44:24.049 -07:00 [DBG] Created DbConnection. (16ms).
2023-02-12 08:44:24.055 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-02-12 08:44:24.063 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2023-02-12 08:44:24.066 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.214 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.224 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:44:24.261 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:44:24.273 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.280 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2023-02-12 08:44:24.283 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.288 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (5ms).
2023-02-12 08:44:24.294 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.294 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.294 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.294 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.295 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.295 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:44:24.297 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:44:24.297 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.297 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.297 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.297 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.350 -07:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.354 -07:00 [DBG] SaveChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.356 -07:00 [DBG] DetectChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.364 -07:00 [DBG] DetectChanges completed for 'AuthDbContext'.
2023-02-12 08:44:24.420 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.420 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.422 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.422 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.422 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.422 -07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-02-12 08:44:24.423 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-02-12 08:44:24.425 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.425 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-02-12 08:44:24.426 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.426 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.433 -07:00 [DBG] An entity of type 'IdentityRole' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.435 -07:00 [DBG] SaveChanges completed for 'AuthDbContext' with 1 entities written to the database.
2023-02-12 08:44:24.436 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.436 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.436 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.436 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.436 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.436 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:44:24.438 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:44:24.438 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.438 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.438 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.439 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.439 -07:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.439 -07:00 [DBG] SaveChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.439 -07:00 [DBG] DetectChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.441 -07:00 [DBG] DetectChanges completed for 'AuthDbContext'.
2023-02-12 08:44:24.441 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.441 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.441 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.441 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.441 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.441 -07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-02-12 08:44:24.442 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-02-12 08:44:24.442 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.442 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.442 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.442 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.442 -07:00 [DBG] An entity of type 'IdentityRole' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.442 -07:00 [DBG] SaveChanges completed for 'AuthDbContext' with 1 entities written to the database.
2023-02-12 08:44:24.444 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-02-12 08:44:24.448 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:44:24.448 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.448 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.448 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.448 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.448 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.449 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:24.450 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:24.450 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.450 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.450 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.450 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.452 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-02-12 08:44:24.454 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:44:24.454 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.454 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.454 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.454 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.455 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.455 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-02-12 08:44:24.455 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-02-12 08:44:24.456 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.456 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.456 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.456 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.510 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.510 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.510 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.510 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.510 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.510 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:24.510 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:24.510 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.510 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.510 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.510 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.544 -07:00 [DBG] Context 'AuthDbContext' started tracking 'ZOrgUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.544 -07:00 [DBG] SaveChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.544 -07:00 [DBG] DetectChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.551 -07:00 [DBG] DetectChanges completed for 'AuthDbContext'.
2023-02-12 08:44:24.552 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.552 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.552 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.552 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.552 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.553 -07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-12 08:44:24.554 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-12 08:44:24.554 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.554 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.554 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.554 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.555 -07:00 [DBG] An entity of type 'ZOrgUser' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.555 -07:00 [DBG] SaveChanges completed for 'AuthDbContext' with 1 entities written to the database.
2023-02-12 08:44:24.559 -07:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-02-12 08:44:24.561 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:44:24.561 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.561 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.561 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.561 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.561 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.561 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.562 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.567 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.567 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2023-02-12 08:44:24.567 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.567 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.574 -07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2023-02-12 08:44:24.579 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:44:24.581 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.581 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.581 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.581 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.581 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.581 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-02-12 08:44:24.582 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-02-12 08:44:24.582 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.582 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.582 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.582 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.584 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.584 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.584 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.584 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.584 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.584 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.585 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.585 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.585 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.585 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.585 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.593 -07:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.593 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.593 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.593 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.593 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.593 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.593 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.594 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.594 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.594 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.594 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.594 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.595 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.595 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.595 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.595 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.595 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.595 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-02-12 08:44:24.596 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-02-12 08:44:24.596 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.596 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.596 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.596 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.596 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.596 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.596 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.596 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.596 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.596 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.596 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:44:24.596 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.596 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:24.596 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.596 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.597 -07:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.597 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.597 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.597 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.597 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.597 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.597 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:24.598 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:24.600 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.600 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-02-12 08:44:24.600 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.600 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.603 -07:00 [DBG] An entity of type 'ZOrgUser' tracked by 'AuthDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.603 -07:00 [DBG] SaveChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.603 -07:00 [DBG] DetectChanges starting for 'AuthDbContext'.
2023-02-12 08:44:24.603 -07:00 [DBG] DetectChanges completed for 'AuthDbContext'.
2023-02-12 08:44:24.618 -07:00 [DBG] Executing 3 update commands as a batch.
2023-02-12 08:44:24.620 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.620 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.622 -07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-02-12 08:44:24.628 -07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-02-12 08:44:24.629 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:24.629 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.630 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:24.630 -07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 450), @p18='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p19='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1),
(@p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-02-12 08:44:24.634 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 450), @p18='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p19='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1),
(@p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-02-12 08:44:24.636 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.636 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-02-12 08:44:24.638 -07:00 [DBG] Committing transaction.
2023-02-12 08:44:24.641 -07:00 [DBG] Committed transaction.
2023-02-12 08:44:24.642 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.642 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:24.644 -07:00 [DBG] Disposing transaction.
2023-02-12 08:44:24.644 -07:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.644 -07:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.644 -07:00 [DBG] An entity of type 'ZOrgUser' tracked by 'AuthDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:24.644 -07:00 [DBG] SaveChanges completed for 'AuthDbContext' with 3 entities written to the database.
2023-02-12 08:44:24.648 -07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-02-12 08:44:24.650 -07:00 [DBG] No information found on request to perform content negotiation.
2023-02-12 08:44:24.650 -07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-12 08:44:24.650 -07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-12 08:44:24.651 -07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-12 08:44:24.651 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[AuthSrv.Models.ZOrgUser, AuthSrv, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 08:44:24.698 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Register (AuthSrv) in 1630.6576ms
2023-02-12 08:44:24.699 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:44:24.702 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" completed keep alive response.
2023-02-12 08:44:24.704 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:44:24.707 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:24.708 -07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-02-12 08:44:24.709 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 141 - 200 578 application/json;+charset=utf-8 1685.2717ms
2023-02-12 08:44:46.628 -07:00 [DBG] Connection id "0HMOD1VMEUJS3" received FIN.
2023-02-12 08:44:46.628 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/auth/login application/json-patch+json 62
2023-02-12 08:44:46.629 -07:00 [DBG] Connection id "0HMOD1VMEUJS3" sending FIN because: "The client closed the connection."
2023-02-12 08:44:46.629 -07:00 [DBG] Connection id "0HMOD1VMEUJS3" disconnecting.
2023-02-12 08:44:46.629 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2023-02-12 08:44:46.629 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Login (AuthSrv)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2023-02-12 08:44:46.629 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Login (AuthSrv)'
2023-02-12 08:44:46.629 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:44:46.630 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:44:46.630 -07:00 [DBG] Connection id "0HMOD1VMEUJS3" stopped.
2023-02-12 08:44:46.630 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Login (AuthSrv)'
2023-02-12 08:44:46.633 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthSrv.Models.DTO.LoginRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:44:46.633 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:44:46.633 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:44:46.633 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:44:46.633 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:44:46.633 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:44:46.633 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:44:46.635 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:44:46.636 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.LoginRequestDTO' ...
2023-02-12 08:44:46.636 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2023-02-12 08:44:46.636 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:44:46.636 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-02-12 08:44:46.636 -07:00 [DBG] Connection id "0HMOD1VMEUJS2", Request id "0HMOD1VMEUJS2:00000004": started reading request body.
2023-02-12 08:44:46.636 -07:00 [DBG] Connection id "0HMOD1VMEUJS2", Request id "0HMOD1VMEUJS2:00000004": done reading request body.
2023-02-12 08:44:46.638 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.LoginRequestDTO'.
2023-02-12 08:44:46.638 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.LoginRequestDTO'.
2023-02-12 08:44:46.638 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.LoginRequestDTO' ...
2023-02-12 08:44:46.639 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.LoginRequestDTO'.
2023-02-12 08:44:46.674 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:44:46.674 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:46.674 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:44:46.674 -07:00 [DBG] Created DbConnection. (0ms).
2023-02-12 08:44:46.674 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:46.674 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:46.674 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.675 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.675 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:46.675 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:44:46.677 -07:00 [DBG] Context 'AuthDbContext' started tracking 'ZOrgUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:44:46.677 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.677 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-02-12 08:44:46.677 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.677 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:46.734 -07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-02-12 08:44:46.759 -07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    AuthSrv.Data.AuthDbContext, 
    False, 
    False, 
    True
)'
2023-02-12 08:44:46.760 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:44:46.761 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:46.761 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:44:46.761 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.761 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.761 -07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-02-12 08:44:46.763 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-02-12 08:44:46.764 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.764 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:44:46.764 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.764 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:44:46.913 -07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-02-12 08:44:46.913 -07:00 [DBG] No information found on request to perform content negotiation.
2023-02-12 08:44:46.913 -07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-12 08:44:46.913 -07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-12 08:44:46.913 -07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-12 08:44:46.913 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-12 08:44:46.916 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Login (AuthSrv) in 282.38ms
2023-02-12 08:44:46.916 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Login (AuthSrv)'
2023-02-12 08:44:46.916 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" completed keep alive response.
2023-02-12 08:44:46.916 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:44:46.916 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:44:46.916 -07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-12 08:44:46.916 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/auth/login application/json-patch+json 62 - 200 498 application/json;+charset=utf-8 287.8445ms
2023-02-12 08:46:47.210 -07:00 [INF] Application is shutting down...
2023-02-12 08:46:47.211 -07:00 [DBG] Hosting stopping
2023-02-12 08:46:47.215 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" disconnecting.
2023-02-12 08:46:47.215 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" stopped.
2023-02-12 08:46:47.215 -07:00 [DBG] Connection id "0HMOD1VMEUJS2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:46:47.218 -07:00 [DBG] Hosting stopped
2023-02-12 08:46:54.423 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:46:54.465 -07:00 [DBG] Hosting starting
2023-02-12 08:46:54.472 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:46:54.475 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:46:54.480 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:46:54.486 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:46:54.487 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:46:54.488 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:46:54.488 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:46:54.490 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:46:54.490 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:46:54.491 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:46:54.491 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:46:54.518 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:46:54.518 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:46:54.518 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:46:54.518 -07:00 [INF] Hosting environment: Development
2023-02-12 08:46:54.518 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:46:54.518 -07:00 [DBG] Hosting started
2023-02-12 08:46:54.744 -07:00 [DBG] Connection id "0HMOD21ESR43Q" received FIN.
2023-02-12 08:46:54.747 -07:00 [DBG] Connection id "0HMOD21ESR43Q" accepted.
2023-02-12 08:46:54.748 -07:00 [DBG] Connection id "0HMOD21ESR43Q" started.
2023-02-12 08:46:54.753 -07:00 [DBG] Connection id "0HMOD21ESR43Q" sending FIN because: "The client closed the connection."
2023-02-12 08:46:54.755 -07:00 [DBG] Connection id "0HMOD21ESR43Q" disconnecting.
2023-02-12 08:46:54.758 -07:00 [DBG] Connection id "0HMOD21ESR43Q" stopped.
2023-02-12 08:46:54.809 -07:00 [DBG] Connection id "0HMOD21ESR43R" accepted.
2023-02-12 08:46:54.809 -07:00 [DBG] Connection id "0HMOD21ESR43R" started.
2023-02-12 08:46:54.809 -07:00 [DBG] Connection id "0HMOD21ESR43S" accepted.
2023-02-12 08:46:54.809 -07:00 [DBG] Connection id "0HMOD21ESR43S" started.
2023-02-12 08:46:54.829 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:46:54.830 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:46:54.845 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:46:54.845 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:46:54.915 -07:00 [DBG] Connection id "0HMOD21ESR43R" completed keep alive response.
2023-02-12 08:46:54.916 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 88.2379ms
2023-02-12 08:46:55.006 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2023-02-12 08:46:55.006 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:46:55.006 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:46:55.080 -07:00 [DBG] Connection id "0HMOD21ESR43R" completed keep alive response.
2023-02-12 08:46:55.081 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 74.5348ms
2023-02-12 08:48:33.253 -07:00 [INF] Application is shutting down...
2023-02-12 08:48:33.254 -07:00 [DBG] Hosting stopping
2023-02-12 08:48:33.259 -07:00 [DBG] Connection id "0HMOD21ESR43S" disconnecting.
2023-02-12 08:48:33.259 -07:00 [DBG] Connection id "0HMOD21ESR43R" disconnecting.
2023-02-12 08:48:33.260 -07:00 [DBG] Connection id "0HMOD21ESR43R" stopped.
2023-02-12 08:48:33.260 -07:00 [DBG] Connection id "0HMOD21ESR43S" stopped.
2023-02-12 08:48:33.260 -07:00 [DBG] Connection id "0HMOD21ESR43R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:48:33.260 -07:00 [DBG] Connection id "0HMOD21ESR43S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:48:33.263 -07:00 [DBG] Hosting stopped
2023-02-12 08:51:41.463 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:51:41.504 -07:00 [DBG] Hosting starting
2023-02-12 08:51:41.511 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:51:41.514 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:51:41.519 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:51:41.525 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:51:41.526 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:51:41.527 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:51:41.527 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:51:41.529 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:51:41.529 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:51:41.530 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:51:41.530 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:51:41.557 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:51:41.557 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:51:41.557 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:51:41.557 -07:00 [INF] Hosting environment: Development
2023-02-12 08:51:41.557 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:51:41.557 -07:00 [DBG] Hosting started
2023-02-12 08:51:41.660 -07:00 [DBG] Connection id "0HMOD244D2SS9" received FIN.
2023-02-12 08:51:41.663 -07:00 [DBG] Connection id "0HMOD244D2SS9" accepted.
2023-02-12 08:51:41.664 -07:00 [DBG] Connection id "0HMOD244D2SS9" started.
2023-02-12 08:51:41.669 -07:00 [DBG] Connection id "0HMOD244D2SS9" sending FIN because: "The client closed the connection."
2023-02-12 08:51:41.670 -07:00 [DBG] Connection id "0HMOD244D2SS9" disconnecting.
2023-02-12 08:51:41.672 -07:00 [DBG] Connection id "0HMOD244D2SS9" stopped.
2023-02-12 08:51:41.723 -07:00 [DBG] Connection id "0HMOD244D2SSA" accepted.
2023-02-12 08:51:41.723 -07:00 [DBG] Connection id "0HMOD244D2SSA" started.
2023-02-12 08:51:41.723 -07:00 [DBG] Connection id "0HMOD244D2SSB" accepted.
2023-02-12 08:51:41.723 -07:00 [DBG] Connection id "0HMOD244D2SSB" started.
2023-02-12 08:51:41.742 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:51:41.743 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:51:41.758 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:51:41.758 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:51:41.830 -07:00 [DBG] Connection id "0HMOD244D2SSA" completed keep alive response.
2023-02-12 08:51:41.831 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 90.7914ms
2023-02-12 08:51:46.140 -07:00 [INF] Application is shutting down...
2023-02-12 08:51:46.141 -07:00 [DBG] Hosting stopping
2023-02-12 08:51:46.145 -07:00 [DBG] Connection id "0HMOD244D2SSB" disconnecting.
2023-02-12 08:51:46.145 -07:00 [DBG] Connection id "0HMOD244D2SSA" disconnecting.
2023-02-12 08:51:46.146 -07:00 [DBG] Connection id "0HMOD244D2SSA" stopped.
2023-02-12 08:51:46.146 -07:00 [DBG] Connection id "0HMOD244D2SSB" stopped.
2023-02-12 08:51:46.146 -07:00 [DBG] Connection id "0HMOD244D2SSA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:51:46.146 -07:00 [DBG] Connection id "0HMOD244D2SSB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:51:46.149 -07:00 [DBG] Hosting stopped
2023-02-12 08:51:51.576 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:51:51.618 -07:00 [DBG] Hosting starting
2023-02-12 08:51:51.626 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:51:51.630 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:51:51.637 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:51:51.643 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:51:51.644 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:51:51.645 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:51:51.645 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:51:51.647 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:51:51.647 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:51:51.648 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:51:51.648 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:51:51.675 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:51:51.675 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:51:51.675 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:51:51.675 -07:00 [INF] Hosting environment: Development
2023-02-12 08:51:51.675 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:51:51.675 -07:00 [DBG] Hosting started
2023-02-12 08:51:51.904 -07:00 [DBG] Connection id "0HMOD247EP1DN" received FIN.
2023-02-12 08:51:51.907 -07:00 [DBG] Connection id "0HMOD247EP1DN" accepted.
2023-02-12 08:51:51.908 -07:00 [DBG] Connection id "0HMOD247EP1DN" started.
2023-02-12 08:51:51.913 -07:00 [DBG] Connection id "0HMOD247EP1DN" sending FIN because: "The client closed the connection."
2023-02-12 08:51:51.914 -07:00 [DBG] Connection id "0HMOD247EP1DN" disconnecting.
2023-02-12 08:51:51.916 -07:00 [DBG] Connection id "0HMOD247EP1DN" stopped.
2023-02-12 08:51:51.963 -07:00 [DBG] Connection id "0HMOD247EP1DO" accepted.
2023-02-12 08:51:51.963 -07:00 [DBG] Connection id "0HMOD247EP1DO" started.
2023-02-12 08:51:51.963 -07:00 [DBG] Connection id "0HMOD247EP1DP" accepted.
2023-02-12 08:51:51.963 -07:00 [DBG] Connection id "0HMOD247EP1DP" started.
2023-02-12 08:51:51.983 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:51:51.984 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:51:52.002 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:51:52.002 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:51:52.074 -07:00 [DBG] Connection id "0HMOD247EP1DO" completed keep alive response.
2023-02-12 08:51:52.075 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 93.6900ms
2023-02-12 08:51:52.161 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2023-02-12 08:51:52.161 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:51:52.161 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:51:52.235 -07:00 [DBG] Connection id "0HMOD247EP1DO" completed keep alive response.
2023-02-12 08:51:52.235 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 74.2390ms
2023-02-12 08:52:19.673 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 102
2023-02-12 08:52:19.677 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:52:19.679 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:52:19.679 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:52:19.680 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:52:19.681 -07:00 [WRN] Failed to determine the https port for redirect.
2023-02-12 08:52:19.698 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:52:19.702 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-02-12 08:52:19.705 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-12 08:52:19.705 -07:00 [DBG] Connection id "0HMOD247EP1DO" completed keep alive response.
2023-02-12 08:52:19.705 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 102 - 401 0 - 31.8049ms
2023-02-12 08:52:19.706 -07:00 [DBG] Connection id "0HMOD247EP1DO", Request id "0HMOD247EP1DO:00000003": started reading request body.
2023-02-12 08:52:19.706 -07:00 [DBG] Connection id "0HMOD247EP1DO", Request id "0HMOD247EP1DO:00000003": done reading request body.
2023-02-12 08:52:28.927 -07:00 [INF] Application is shutting down...
2023-02-12 08:52:28.928 -07:00 [DBG] Hosting stopping
2023-02-12 08:52:28.932 -07:00 [DBG] Connection id "0HMOD247EP1DO" disconnecting.
2023-02-12 08:52:28.932 -07:00 [DBG] Connection id "0HMOD247EP1DP" disconnecting.
2023-02-12 08:52:28.933 -07:00 [DBG] Connection id "0HMOD247EP1DP" stopped.
2023-02-12 08:52:28.933 -07:00 [DBG] Connection id "0HMOD247EP1DO" stopped.
2023-02-12 08:52:28.933 -07:00 [DBG] Connection id "0HMOD247EP1DP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:52:28.933 -07:00 [DBG] Connection id "0HMOD247EP1DO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:52:28.937 -07:00 [DBG] Hosting stopped
2023-02-12 08:52:37.225 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:52:37.280 -07:00 [DBG] Hosting starting
2023-02-12 08:52:37.297 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:52:37.300 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:52:37.307 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:52:37.313 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:52:37.314 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:52:37.315 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:52:37.315 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:52:37.318 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:52:37.318 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:52:37.319 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:52:37.320 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:52:37.385 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:52:37.385 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:52:37.385 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:52:37.385 -07:00 [INF] Hosting environment: Development
2023-02-12 08:52:37.385 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:52:37.385 -07:00 [DBG] Hosting started
2023-02-12 08:52:37.836 -07:00 [DBG] Connection id "0HMOD24L4QB96" received FIN.
2023-02-12 08:52:37.840 -07:00 [DBG] Connection id "0HMOD24L4QB96" accepted.
2023-02-12 08:52:37.840 -07:00 [DBG] Connection id "0HMOD24L4QB96" started.
2023-02-12 08:52:37.846 -07:00 [DBG] Connection id "0HMOD24L4QB96" sending FIN because: "The client closed the connection."
2023-02-12 08:52:37.847 -07:00 [DBG] Connection id "0HMOD24L4QB96" disconnecting.
2023-02-12 08:52:37.849 -07:00 [DBG] Connection id "0HMOD24L4QB96" stopped.
2023-02-12 08:52:37.895 -07:00 [DBG] Connection id "0HMOD24L4QB97" accepted.
2023-02-12 08:52:37.896 -07:00 [DBG] Connection id "0HMOD24L4QB97" started.
2023-02-12 08:52:37.896 -07:00 [DBG] Connection id "0HMOD24L4QB98" accepted.
2023-02-12 08:52:37.897 -07:00 [DBG] Connection id "0HMOD24L4QB98" started.
2023-02-12 08:52:37.927 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:52:37.928 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:52:37.947 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:52:37.947 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:52:38.028 -07:00 [DBG] Connection id "0HMOD24L4QB97" completed keep alive response.
2023-02-12 08:52:38.029 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 103.9853ms
2023-02-12 08:52:38.124 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2023-02-12 08:52:38.124 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:52:38.124 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:52:38.225 -07:00 [DBG] Connection id "0HMOD24L4QB97" completed keep alive response.
2023-02-12 08:52:38.225 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.3880ms
2023-02-12 08:53:21.529 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 102
2023-02-12 08:53:21.534 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:53:21.536 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:53:21.536 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:53:21.537 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:53:21.538 -07:00 [WRN] Failed to determine the https port for redirect.
2023-02-12 08:53:21.584 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-12 08:53:21.589 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-02-12 08:53:21.592 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-12 08:53:21.592 -07:00 [DBG] Connection id "0HMOD24L4QB97" completed keep alive response.
2023-02-12 08:53:21.592 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/auth/register application/json-patch+json 102 - 401 0 - 62.9064ms
2023-02-12 08:53:21.592 -07:00 [DBG] Connection id "0HMOD24L4QB97", Request id "0HMOD24L4QB97:00000003": started reading request body.
2023-02-12 08:53:21.592 -07:00 [DBG] Connection id "0HMOD24L4QB97", Request id "0HMOD24L4QB97:00000003": done reading request body.
2023-02-12 08:54:22.836 -07:00 [DBG] Connection id "0HMOD24L4QB98" received FIN.
2023-02-12 08:54:22.838 -07:00 [DBG] Connection id "0HMOD24L4QB98" sending FIN because: "The client closed the connection."
2023-02-12 08:54:22.839 -07:00 [DBG] Connection id "0HMOD24L4QB98" disconnecting.
2023-02-12 08:54:22.843 -07:00 [DBG] Connection id "0HMOD24L4QB98" stopped.
2023-02-12 08:55:11.548 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:55:11.591 -07:00 [DBG] Hosting starting
2023-02-12 08:55:11.598 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:55:11.601 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:55:11.606 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:55:11.612 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:55:11.613 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:55:11.614 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:55:11.614 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:55:11.616 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:55:11.616 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:55:11.617 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:55:11.617 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:55:11.644 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:55:11.644 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:55:11.644 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:55:11.644 -07:00 [INF] Hosting environment: Development
2023-02-12 08:55:11.644 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:55:11.644 -07:00 [DBG] Hosting started
2023-02-12 08:55:11.707 -07:00 [DBG] Connection id "0HMOD2630853N" received FIN.
2023-02-12 08:55:11.710 -07:00 [DBG] Connection id "0HMOD2630853N" accepted.
2023-02-12 08:55:11.711 -07:00 [DBG] Connection id "0HMOD2630853N" started.
2023-02-12 08:55:11.716 -07:00 [DBG] Connection id "0HMOD2630853N" sending FIN because: "The client closed the connection."
2023-02-12 08:55:11.717 -07:00 [DBG] Connection id "0HMOD2630853N" disconnecting.
2023-02-12 08:55:11.719 -07:00 [DBG] Connection id "0HMOD2630853N" stopped.
2023-02-12 08:55:11.773 -07:00 [DBG] Connection id "0HMOD2630853O" accepted.
2023-02-12 08:55:11.773 -07:00 [DBG] Connection id "0HMOD2630853O" started.
2023-02-12 08:55:11.773 -07:00 [DBG] Connection id "0HMOD2630853P" accepted.
2023-02-12 08:55:11.774 -07:00 [DBG] Connection id "0HMOD2630853P" started.
2023-02-12 08:55:11.796 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:55:11.797 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:55:11.814 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:55:11.814 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:55:11.887 -07:00 [DBG] Connection id "0HMOD2630853O" completed keep alive response.
2023-02-12 08:55:11.888 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 92.9927ms
2023-02-12 08:55:11.992 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2023-02-12 08:55:11.992 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:55:11.992 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:55:12.070 -07:00 [DBG] Connection id "0HMOD2630853O" completed keep alive response.
2023-02-12 08:55:12.071 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 78.9631ms
2023-02-12 08:57:16.752 -07:00 [DBG] Connection id "0HMOD2630853Q" accepted.
2023-02-12 08:57:16.752 -07:00 [DBG] Connection id "0HMOD2630853Q" started.
2023-02-12 08:57:16.753 -07:00 [INF] Request starting HTTP/1.1 POST http://127.0.0.1:5047/api/auth/register application/json 109
2023-02-12 08:57:16.756 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:57:16.758 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:57:16.758 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:57:16.759 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:57:16.760 -07:00 [WRN] Failed to determine the https port for redirect.
2023-02-12 08:57:16.867 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-02-12 08:57:16.874 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-02-12 08:57:16.878 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-02-12 08:57:16.881 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-12 08:57:16.882 -07:00 [DBG] Connection id "0HMOD2630853Q" completed keep alive response.
2023-02-12 08:57:16.882 -07:00 [INF] Request finished HTTP/1.1 POST http://127.0.0.1:5047/api/auth/register application/json 109 - 401 0 - 128.8867ms
2023-02-12 08:57:16.882 -07:00 [DBG] Connection id "0HMOD2630853Q", Request id "0HMOD2630853Q:00000001": started reading request body.
2023-02-12 08:57:16.882 -07:00 [DBG] Connection id "0HMOD2630853Q", Request id "0HMOD2630853Q:00000001": done reading request body.
2023-02-12 08:57:23.098 -07:00 [DBG] Connection id "0HMOD2630853P" disconnecting.
2023-02-12 08:57:23.098 -07:00 [DBG] Connection id "0HMOD2630853O" disconnecting.
2023-02-12 08:57:23.099 -07:00 [DBG] Connection id "0HMOD2630853O" stopped.
2023-02-12 08:57:23.099 -07:00 [DBG] Connection id "0HMOD2630853P" stopped.
2023-02-12 08:57:23.099 -07:00 [DBG] Connection id "0HMOD2630853O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:57:23.099 -07:00 [DBG] Connection id "0HMOD2630853P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:57:38.128 -07:00 [INF] Application is shutting down...
2023-02-12 08:57:38.129 -07:00 [DBG] Hosting stopping
2023-02-12 08:57:38.132 -07:00 [DBG] Connection id "0HMOD2630853Q" disconnecting.
2023-02-12 08:57:38.133 -07:00 [DBG] Connection id "0HMOD2630853Q" stopped.
2023-02-12 08:57:38.133 -07:00 [DBG] Connection id "0HMOD2630853Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:57:38.136 -07:00 [DBG] Hosting stopped
2023-02-12 08:57:56.264 -07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-12 08:57:56.306 -07:00 [DBG] Hosting starting
2023-02-12 08:57:56.312 -07:00 [INF] User profile is available. Using 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 08:57:56.315 -07:00 [DBG] Reading data from file 'C:\Users\dzieg\AppData\Local\ASP.NET\DataProtection-Keys\key-61d8548b-5f66-4c9c-bdb6-aeaf7e351adb.xml'.
2023-02-12 08:57:56.320 -07:00 [DBG] Found key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb}.
2023-02-12 08:57:56.326 -07:00 [DBG] Considering key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} with expiration date 2023-02-15 13:15:37Z as default key.
2023-02-12 08:57:56.327 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:57:56.328 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-02-12 08:57:56.328 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-12 08:57:56.330 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-02-12 08:57:56.330 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-02-12 08:57:56.331 -07:00 [DBG] Using key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} as the default key.
2023-02-12 08:57:56.331 -07:00 [DBG] Key ring with default key {61d8548b-5f66-4c9c-bdb6-aeaf7e351adb} was loaded during application startup.
2023-02-12 08:57:56.358 -07:00 [INF] Now listening on: http://localhost:5047
2023-02-12 08:57:56.359 -07:00 [DBG] Loaded hosting startup assembly AuthSrv
2023-02-12 08:57:56.359 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-12 08:57:56.359 -07:00 [INF] Hosting environment: Development
2023-02-12 08:57:56.359 -07:00 [INF] Content root path: C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv
2023-02-12 08:57:56.359 -07:00 [DBG] Hosting started
2023-02-12 08:57:56.416 -07:00 [DBG] Connection id "0HMOD27K319V1" received FIN.
2023-02-12 08:57:56.419 -07:00 [DBG] Connection id "0HMOD27K319V1" accepted.
2023-02-12 08:57:56.420 -07:00 [DBG] Connection id "0HMOD27K319V1" started.
2023-02-12 08:57:56.425 -07:00 [DBG] Connection id "0HMOD27K319V1" sending FIN because: "The client closed the connection."
2023-02-12 08:57:56.426 -07:00 [DBG] Connection id "0HMOD27K319V1" disconnecting.
2023-02-12 08:57:56.428 -07:00 [DBG] Connection id "0HMOD27K319V1" stopped.
2023-02-12 08:57:56.485 -07:00 [DBG] Connection id "0HMOD27K319V2" accepted.
2023-02-12 08:57:56.485 -07:00 [DBG] Connection id "0HMOD27K319V2" started.
2023-02-12 08:57:56.485 -07:00 [DBG] Connection id "0HMOD27K319V3" accepted.
2023-02-12 08:57:56.485 -07:00 [DBG] Connection id "0HMOD27K319V3" started.
2023-02-12 08:57:56.503 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2023-02-12 08:57:56.504 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-12 08:57:56.519 -07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-12 08:57:56.519 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:57:56.591 -07:00 [DBG] Connection id "0HMOD27K319V2" completed keep alive response.
2023-02-12 08:57:56.592 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 89.8514ms
2023-02-12 08:57:56.682 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2023-02-12 08:57:56.682 -07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-12 08:57:56.682 -07:00 [DBG] Request did not match any endpoints
2023-02-12 08:57:56.756 -07:00 [DBG] Connection id "0HMOD27K319V2" completed keep alive response.
2023-02-12 08:57:56.756 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 74.2283ms
2023-02-12 08:58:00.686 -07:00 [DBG] Connection id "0HMOD27K319V4" accepted.
2023-02-12 08:58:00.686 -07:00 [DBG] Connection id "0HMOD27K319V4" started.
2023-02-12 08:58:00.686 -07:00 [INF] Request starting HTTP/1.1 POST http://127.0.0.1:5047/api/auth/register application/json 109
2023-02-12 08:58:00.690 -07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/register'
2023-02-12 08:58:00.691 -07:00 [DBG] Endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)' with route pattern 'api/auth/register' is valid for the request path '/api/auth/register'
2023-02-12 08:58:00.692 -07:00 [DBG] Request matched endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:58:00.692 -07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-12 08:58:00.694 -07:00 [WRN] Failed to determine the https port for redirect.
2023-02-12 08:58:00.807 -07:00 [DBG] Successfully validated the token.
2023-02-12 08:58:00.808 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-02-12 08:58:00.812 -07:00 [DBG] Authorization was successful.
2023-02-12 08:58:00.812 -07:00 [INF] Executing endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:58:00.826 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthSrv.Models.DTO.NewUserRequestDTO) on controller AuthSrv.Controllers.AuthController (AuthSrv).
2023-02-12 08:58:00.827 -07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-12 08:58:00.827 -07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-12 08:58:00.827 -07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-12 08:58:00.827 -07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-12 08:58:00.827 -07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-12 08:58:00.828 -07:00 [DBG] Executing controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:58:00.906 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-12 08:58:00.926 -07:00 [DBG] Executed controller factory for controller AuthSrv.Controllers.AuthController (AuthSrv)
2023-02-12 08:58:00.929 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:58:00.930 -07:00 [DBG] Attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' using the name '' in request data ...
2023-02-12 08:58:00.931 -07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-02-12 08:58:00.931 -07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-02-12 08:58:00.935 -07:00 [DBG] Connection id "0HMOD27K319V4", Request id "0HMOD27K319V4:00000001": started reading request body.
2023-02-12 08:58:00.935 -07:00 [DBG] Connection id "0HMOD27K319V4", Request id "0HMOD27K319V4:00000001": done reading request body.
2023-02-12 08:58:00.996 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:58:00.996 -07:00 [DBG] Done attempting to bind parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:58:00.996 -07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO' ...
2023-02-12 08:58:01.002 -07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'AuthSrv.Models.DTO.NewUserRequestDTO'.
2023-02-12 08:58:01.317 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-12 08:58:01.317 -07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-12 08:58:01.570 -07:00 [DBG] Entity Framework Core 7.0.2 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: None
2023-02-12 08:58:01.632 -07:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-02-12 08:58:01.760 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:58:01.793 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:58:01.795 -07:00 [DBG] Creating DbConnection.
2023-02-12 08:58:01.814 -07:00 [DBG] Created DbConnection. (16ms).
2023-02-12 08:58:01.820 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2023-02-12 08:58:01.828 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2023-02-12 08:58:01.831 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:01.977 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:01.987 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:58:02.024 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-02-12 08:58:02.063 -07:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:58:02.078 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.084 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 54ms reading results.
2023-02-12 08:58:02.087 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.093 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (5ms).
2023-02-12 08:58:02.096 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-02-12 08:58:02.100 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:58:02.101 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:58:02.101 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.101 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.101 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.102 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.102 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:58:02.106 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:58:02.106 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.106 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:58:02.106 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.106 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:58:02.108 -07:00 [DBG] Compiling query expression: 
'DbSet<ZOrgUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-02-12 08:58:02.111 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ZOrgUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ZOrgUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ZOrgUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ZOrgUser.AccessFailedCount (int) Required, 1], [Property: ZOrgUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ZOrgUser.Email (string) MaxLength(256), 3], [Property: ZOrgUser.EmailConfirmed (bool) Required, 4], [Property: ZOrgUser.LockoutEnabled (bool) Required, 5], [Property: ZOrgUser.LockoutEnd (DateTimeOffset?), 6], [Property: ZOrgUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ZOrgUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ZOrgUser.PasswordHash (string), 9], [Property: ZOrgUser.PhoneNumber (string), 10], [Property: ZOrgUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ZOrgUser.SecurityStamp (string), 12], [Property: ZOrgUser.TwoFactorEnabled (bool) Required, 13], [Property: ZOrgUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ZOrgUser>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:58:02.111 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:58:02.111 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.111 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.111 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.111 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.111 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-02-12 08:58:02.114 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-02-12 08:58:02.114 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.114 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:58:02.114 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.114 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:58:02.170 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:58:02.170 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.170 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.170 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.170 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.170 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:58:02.171 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-12 08:58:02.171 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.171 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:58:02.171 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.171 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:58:02.216 -07:00 [DBG] Context 'AuthDbContext' started tracking 'ZOrgUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:58:02.218 -07:00 [DBG] SaveChanges starting for 'AuthDbContext'.
2023-02-12 08:58:02.220 -07:00 [DBG] DetectChanges starting for 'AuthDbContext'.
2023-02-12 08:58:02.235 -07:00 [DBG] DetectChanges completed for 'AuthDbContext'.
2023-02-12 08:58:02.284 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.284 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.286 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:58:02.286 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.287 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.287 -07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-12 08:58:02.289 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-12 08:58:02.291 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.291 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-02-12 08:58:02.293 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.293 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:58:02.299 -07:00 [DBG] An entity of type 'ZOrgUser' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-12 08:58:02.301 -07:00 [DBG] SaveChanges completed for 'AuthDbContext' with 1 entities written to the database.
2023-02-12 08:58:02.305 -07:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-02-12 08:58:02.307 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        AuthSrv.Data.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-12 08:58:02.307 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:58:02.307 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.307 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.307 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.307 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.308 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:58:02.308 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:58:02.308 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.309 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:58:02.309 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.309 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:58:02.311 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-12 08:58:02.311 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.311 -07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-12 08:58:02.311 -07:00 [DBG] Opening connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.311 -07:00 [DBG] Opened connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.312 -07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:58:02.312 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-02-12 08:58:02.312 -07:00 [DBG] Closing data reader to 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.312 -07:00 [DBG] A data reader for 'AuthSrv' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2023-02-12 08:58:02.312 -07:00 [DBG] Closing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.312 -07:00 [DBG] Closed connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-02-12 08:58:02.320 -07:00 [INF] Executed action AuthSrv.Controllers.AuthController.Register (AuthSrv) in 1489.6093ms
2023-02-12 08:58:02.321 -07:00 [INF] Executed endpoint 'AuthSrv.Controllers.AuthController.Register (AuthSrv)'
2023-02-12 08:58:02.324 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Role STRING does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRolesAsync(TUser user, IEnumerable`1 roles)
   at AuthSrv.Controllers.AuthController.Register(NewUserRequestDTO request) in C:\Users\dzieg\Documents\projects\portfolio\authsrv\AuthSrv\Controllers\AuthController.cs:line 129
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-02-12 08:58:02.338 -07:00 [DBG] Connection id "0HMOD27K319V4" completed keep alive response.
2023-02-12 08:58:02.341 -07:00 [DBG] 'AuthDbContext' disposed.
2023-02-12 08:58:02.344 -07:00 [DBG] Disposing connection to database 'AuthSrv' on server '(localdb)\MSSQLLocalDB'.
2023-02-12 08:58:02.346 -07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-02-12 08:58:02.346 -07:00 [INF] Request finished HTTP/1.1 POST http://127.0.0.1:5047/api/auth/register application/json 109 - 500 - text/plain;+charset=utf-8 1659.8089ms
2023-02-12 08:58:59.549 -07:00 [INF] Application is shutting down...
2023-02-12 08:58:59.550 -07:00 [DBG] Hosting stopping
2023-02-12 08:58:59.555 -07:00 [DBG] Connection id "0HMOD27K319V4" disconnecting.
2023-02-12 08:58:59.555 -07:00 [DBG] Connection id "0HMOD27K319V2" disconnecting.
2023-02-12 08:58:59.555 -07:00 [DBG] Connection id "0HMOD27K319V3" disconnecting.
2023-02-12 08:58:59.556 -07:00 [DBG] Connection id "0HMOD27K319V3" stopped.
2023-02-12 08:58:59.556 -07:00 [DBG] Connection id "0HMOD27K319V4" stopped.
2023-02-12 08:58:59.556 -07:00 [DBG] Connection id "0HMOD27K319V2" stopped.
2023-02-12 08:58:59.556 -07:00 [DBG] Connection id "0HMOD27K319V3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:58:59.556 -07:00 [DBG] Connection id "0HMOD27K319V4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:58:59.556 -07:00 [DBG] Connection id "0HMOD27K319V2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-12 08:58:59.559 -07:00 [DBG] Hosting stopped
